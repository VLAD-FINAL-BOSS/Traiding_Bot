from aiogram import Router, F
from aiogram.types import Message, ReplyKeyboardMarkup, KeyboardButton
from aiogram.filters import Command

router = Router()

# –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –∫–æ–º–∞–Ω–¥
main_keyboard = ReplyKeyboardMarkup(
    keyboard=[[KeyboardButton(text="üìã –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥")]],
    resize_keyboard=True,
    input_field_placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É"
)

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start
@router.message(Command("start"))
async def welcome_send(message: Message):
    await message.answer_sticker(
        "CAACAgIAAxkBAAPwaBSSG-ozMlR-Z8B0etlQkzszyR0AAiIDAAKc1ucKohGDiN2j9cs2BA")
    # await message.answer_sticker(
    #     "CAACAgIAAxkBAAP2aBSUg9Xhh9dBmO1t6C8j33_zzXIAAi8DAAKc1ucKnvFbx-60ZUc2BA")
    welcome_text = """
    üìà –ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ –∞–∫—Ü–∏–π —Å –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –ë–∏—Ä–∂–∏.

    –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
    /price - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏
    /add_alert - –î–æ–±–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ —É—Ä–æ–≤–Ω–µ (–í—ã–≤–æ–¥–∏—Ç—å –ø—É—à-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è —Ü–µ–Ω—ã)
    /my_alerts - –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–∏ —Ç–µ–∫—É—â–∏–µ –∑–∞—è–≤–∫–∏
    /help - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    """
    await message.answer(welcome_text, reply_markup=main_keyboard)


@router.message(F.text == "üìã –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥")
async def help_handler(message: Message):
    help_text = (
        " /price ‚Äî –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ —Å –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –ë–∏—Ä–∂–∏\n"
        " /add_alert ‚Äî –î–æ–±–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ —É—Ä–æ–≤–Ω–µ (–±–æ—Ç —É–≤–µ–¥–æ–º–∏—Ç, –∫–æ–≥–¥–∞ —Ü–µ–Ω–∞ –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è)\n"
        " /my_alerts ‚Äî –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –≤–∞—à–∏—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞—è–≤–æ–∫\n"
        " /help ‚Äî –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
    )
    await message.answer(help_text, parse_mode="HTML")


@router.message(F.text == "/help")
async def help_handler(message: Message):
    help_text = ("""
    –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–æ—Ç–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
    1) –ü–æ–ª—É—á–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ –∞–∫—Ü–∏–π —Å –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –ë–∏—Ä–∂–∏\n
    2) –î–æ–±–∞–≤–ª—è—Ç—å —Å—Ç–æ–ø-–∑–∞—è–≤–∫–∏(–∞–ª–µ—Ä—Ç—ã) –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º —É—Ä–æ–≤–Ω–µ —Ü–µ–Ω—ã (–±–æ—Ç —É–≤–µ–¥–æ–º–∏—Ç, –∫–æ–≥–¥–∞ —Ü–µ–Ω–∞ –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è)\n
    –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥–æ–π –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–∞ —ë—ë –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫—É –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –±–æ—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: /price\n
    –ü—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º –≤–≤–æ–¥–µ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ –ª–∏–±–æ –æ—à–∏–±–∫–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –±–æ—Ç–∞ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –∫–Ω–æ–ø–∫–æ–π –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ "üìã –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥", 
    –∑–∞—Ç–µ–º –≤—ã–±–µ—Ä–∏—Ç–µ –∏—Å—Ç–µ—Ä–∏—Å—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –≤–≤–æ–¥ —Å–Ω–æ–≤–∞\n
    –ü—Ä–∏—è—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è!
    """
    )
    await message.answer(help_text, parse_mode="HTML")